"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[340],{4810:(e,t,n)=>{n.r(t)},5514:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cofigConstantsEvents=t.configConstantsMethods=t.configConstantsEntities=void 0,t.configConstantsEntities=Object.freeze({API_WP_TAGS:"API_WP_TAGS",API_WP_CATEGORIES:"WP_API_CATEGORIES",RAW_HTML:"rawHTML",TEMPLATE:"TEMPLATE",CRON:"CRON",PARSER_RSS_LIST:"parser-rss.list",PARSER_RSS_MEDIA:"parser-rss.media",PARSER_RSS_PAGE:"parser-rss.page",PARSER_RSS_URL:"parser-rss.url",PAGE:"page",MEDIA:"visual-constructor.media",LIST:"list",PARSER_RSS:"news-parser",WP_POST:"wp-post"}),t.configConstantsMethods=Object.freeze({GET:"get",POST:"post",PUT:"put",DELETE:"delete",PATCH:"patch",UPDATE:"update",CREATE:"create",AJAX:"ajax"}),t.cofigConstantsEvents=Object.freeze(n(n({},t.configConstantsMethods),{PARSE:"parse",REST:"rest",API_SUCCESS:"API_SUCCESS"}))},5231:(e,t,n)=>{var s,o,r,a,i,c,u,l,p,d;Object.defineProperty(t,"__esModule",{value:!0});var f=n(6885),g=n(5514),E="".concat(f.newsParserApiEndpoints.rootRestApi,"news-parser-plugin/v1/"),h={mode:"development",rootUrl:f.newsParserApiEndpoints.root,restRootUrl:f.newsParserSettings.restRoot,pluginRoot:f.newsParserSettings.pluginUrl,editPostLink:f.newsParserSettings.editPostLink,api:(s={},s[g.configConstantsEntities.PARSER_RSS_LIST]=(o={},o[g.cofigConstantsEvents.PARSE]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.AJAX,nonce:f.newsParserSettings.ajaxApiNonce,url:f.newsParserApiEndpoints[g.configConstantsEntities.LIST]},o),s[g.configConstantsEntities.RAW_HTML]=(r={},r[g.cofigConstantsEvents.PARSE]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.AJAX,nonce:f.newsParserSettings.ajaxApiNonce,url:f.newsParserApiEndpoints[g.configConstantsEntities.RAW_HTML]},r),s[g.configConstantsEntities.PAGE]=(a={},a[g.cofigConstantsEvents.PARSE]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.AJAX,nonce:f.newsParserSettings.ajaxApiNonce,url:f.newsParserApiEndpoints[g.configConstantsEntities.PARSER_RSS_PAGE]},a),s[g.configConstantsEntities.MEDIA]=(i={},i[g.cofigConstantsEvents.CREATE]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.AJAX,nonce:f.newsParserSettings.ajaxApiNonce,url:f.newsParserApiEndpoints[g.configConstantsEntities.MEDIA]},i),s[g.configConstantsEntities.TEMPLATE]=(c={},c[g.cofigConstantsEvents.CREATE]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.REST,nonce:f.newsParserSettings.wpRestApiNonce,url:"".concat(E,"templates")},c[g.cofigConstantsEvents.GET]={method:g.configConstantsMethods.GET,type:g.cofigConstantsEvents.REST,nonce:f.newsParserSettings.wpRestApiNonce,url:"".concat(E,"templates")},c),s[g.configConstantsEntities.CRON]=(u={},u[g.cofigConstantsEvents.UPDATE]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.REST,nonce:f.newsParserSettings.wpRestApiNonce,url:"".concat(E,"cron")},u[g.cofigConstantsEvents.GET]={method:g.configConstantsMethods.GET,type:g.cofigConstantsEvents.REST,nonce:f.newsParserSettings.wpRestApiNonce,url:"".concat(E,"cron")},u[g.cofigConstantsEvents.DELETE]={method:g.configConstantsMethods.DELETE,type:g.cofigConstantsEvents.REST,nonce:f.newsParserSettings.wpRestApiNonce,url:"".concat(E,"cron")},u),s[g.configConstantsEntities.WP_POST]=(l={},l[g.cofigConstantsEvents.CREATE]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.REST,nonce:f.newsParserSettings.wpRestApiNonce,url:"".concat(f.newsParserApiEndpoints.rootRestApi,"wp/v2/posts")},l),s[g.configConstantsEntities.API_WP_CATEGORIES]=(p={},p[g.cofigConstantsEvents.GET]={method:g.configConstantsMethods.GET,type:g.cofigConstantsEvents.REST,nonce:null,url:"".concat(f.newsParserApiEndpoints.rootRestApi,"wp/v2/categories&orderby=name&order=asc&_fields=id%2Cname%2Cparent&_locale=user"),perPage:100,orderBy:"name",order:"asc",_fields:"id%2Cname%2Cparent",_locale:"user"},p[g.cofigConstantsEvents.POST]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.REST,nonce:f.newsParserSettings.wpRestApiNonce,url:"".concat(f.newsParserApiEndpoints.rootRestApi,"wp%2Fv2%2Fcategories&context=edit&_locale=user"),_locale:"user"},p),s[g.configConstantsEntities.API_WP_TAGS]=(d={},d[g.cofigConstantsEvents.GET]={method:g.configConstantsMethods.GET,type:g.cofigConstantsEvents.REST,nonce:null,url:"".concat(f.newsParserApiEndpoints.rootRestApi,"wp/v2/tags&orderby=count&order=desc&_fields=id%2Cname%2Ccount&_locale=user"),perPage:100,orderBy:"count",order:"desc",_fields:"id%2Cname%2Ccount",_locale:"user"},d[g.cofigConstantsEvents.POST]={method:g.configConstantsMethods.POST,type:g.cofigConstantsEvents.REST,nonce:f.newsParserSettings.wpRestApiNonce,url:"".concat(f.newsParserApiEndpoints.rootRestApi,"wp/v2/tags&_locale=user"),_locale:"user"},d),s),errorReport:{url:"https://github.com/zalevsk1y/news-parser/issues/new"},defaultImage:"".concat(f.newsParserSettings.pluginUrl,"/public/images/Grey-Gradient.png"),spinnerImage:"".concat(f.newsParserSettings.pluginUrl,"/public/images/loading.gif"),amedia:{phone:782},lang:{class:"wrap"}};t.default=h},7977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showMessage=t.SHOW_MESSAGE=void 0;var s=n(9834),o=n(766);t.SHOW_MESSAGE="[".concat(s.MESSAGE,":").concat(s.SHOW,"]"),t.showMessage=(0,o.createAction)(t.SHOW_MESSAGE)},9834:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW=t.MESSAGE=void 0,t.MESSAGE="message",t.SHOW="show"},6168:function(e,t,n){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.message=void 0;var o=n(766),r=n(7977);t.message=(0,o.createReducer)(!1,(function(e){e.addCase(r.showMessage,(function(e,t){return s({},t.payload)}))}))},7825:function(e,t,n){var s,o=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=void 0;var a=r(n(2735)),i=r(n(5231)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.errorDetail=!1,n.state={hasError:!1},n.sendReport=n.sendReport.bind(n),n}return o(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.errorDetail={error:e,info:t}},t.prototype.sendReport=function(){window.open(i.default.errorReport.url,"_blank")},t.prototype.render=function(){return this.state.hasError?a.default.createElement("div",null,a.default.createElement("h1",null,"Sorry.Something went wrong."),a.default.createElement("h3",null,'If you wand to send error report please click "Send Report" button. You will be redirected to error report page.Just paste details in "leave comment" section and click "Submit new issue".Thank you.'),a.default.createElement("details",null,"Title!",a.default.createElement("br",null),this.errorDetail&&this.errorDetail.error.toString(),a.default.createElement("br",null),"Message!",a.default.createElement("br",null),this.errorDetail&&this.errorDetail.error.stack),a.default.createElement("br",null),a.default.createElement("button",{type:"button",onClick:this.sendReport},"Send Report")):this.props.children},t}(a.default.Component);t.ErrorBoundary=c},8033:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(7825);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.ErrorBoundary}})},7466:function(e,t,n){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Api=void 0;var o=n(5514),r=function(){function e(e,t){this.url=e,this.params=t,this.fetchParams=this.getFetchParams()}return e.prototype.request=function(){var e=this.params.url||this.url;return fetch(e,this.fetchParams)},e.prototype.getUrl=function(){if(this.params.method===o.configConstantsMethods.GET||this.params.method==o.configConstantsMethods.DELETE){var e=this.params,t=e.body,n=e.nonce,s=this.url;if(null!=t&&"object"==typeof t){var r=new URLSearchParams;Object.keys(t).forEach((function(e){return r.append(e,t[e])})),s+="&"+r.toString()}return this.params.type==o.cofigConstantsEvents.AJAX&&null!=this.params.nonce&&(s+="&_wpnonce=".concat(n)),s}return this.url},e.prototype.getBody=function(){if(this.params.method==o.configConstantsMethods.POST||this.params.method==o.configConstantsMethods.PUT||this.params.method==o.configConstantsMethods.PATCH){var e=this.params.body,t=this.params.nonce;return this.params.type==o.cofigConstantsEvents.AJAX&&(e=void 0!==e?s(s({},e),{_wpnonce:t}):{_wpnonce:t}),JSON.stringify(e)}return!1},e.prototype.getHeaders=function(){var e=new Headers,t=this.params,n=t.nonce,s=t.type,r=t.method;return s===o.cofigConstantsEvents.REST&&(null!==n&&e.append("X-WP-Nonce",n),e.append("Access-Control-Allow-Origin",void 0!==this.url?this.url:"*")),r===o.configConstantsMethods.POST&&(e.append("Content-Type","application/json"),e.append("accept","application/json")),e},e.prototype.getFetchParams=function(){var e={method:this.params.method,credentials:"include"},t=this.getBody();return!1!==t&&(e.body=t),e.headers=this.getHeaders(),this.url=this.getUrl(),e},e}();t.Api=r},8226:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.requestApi=void 0;var o=s(n(5231)),r=n(7466);t.requestApi=function(e,t,n){var s=e.entity,a=e.event,i=e.data,c=e.searchParams,u=o.default.api[s][a].method,l=o.default.api[s][a].type,p=o.default.api[s][a].nonce,d=o.default.api[s][a].url;if(void 0!==c){var f=new URLSearchParams;for(var g in c)f.append(g,c[g]);d+="&"+f.toString()}return new r.Api(d,{type:l,method:u,nonce:p,body:i}).request().then((function(e){if(!e.ok)return e.json().then((function(e){return n(e)}));switch(e.headers.get("Content-Type")){case"application/json; charset=UTF-8":case"application/json":return e.json();default:return e.text()}})).then((function(e){return t(e)}))}},72:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sprintf=t.getPluginDirUrl=t.escHTML=t.decodeHTMLEntities=t.validateIntupUrl=t.getPostEditLink=t.hash=t.setUrlSearchParams=t.urlSearchParamsFactory=t.escURLRaw=void 0;var o=s(n(5231));t.escURLRaw=function(e){return e.replace(/[^-A-Za-z0-9+&@#/%?=~_|!.:/]/g,encodeURIComponent("$&"))};t.urlSearchParamsFactory=function(){var e=window.location.search;return new URLSearchParams(e)};t.setUrlSearchParams=function(e){var n=(0,t.urlSearchParamsFactory)();for(var s in e)n.set(s,e[s]);var o="".concat(window.location.origin+window.location.pathname,"?").concat(n.toString());location.assign(o)},t.hash=function(e){var t=0;if(0==e.length)return t;for(var n=0,s=e.length;n<s;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)},t.getPostEditLink=function(e){return o.default.editPostLink.replace("$postId",e)};t.validateIntupUrl=function(e){return-1!==e.search(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/g)},t.decodeHTMLEntities=function(e){for(var t=[["amp","&"],["apos","'"],["#x27","'"],["#x2F","/"],["#039","'"],["#047","/"],["lt","<"],["gt",">"],["nbsp"," "],["quot",'"']],n=0,s=t.length;n<s;++n)e=e.replace(new RegExp("&".concat(t[n][0],";"),"g"),t[n][1]);return e},t.escHTML=function(e){var t=document.createElement("div");return t.textContent=e,t.innerText},t.getPluginDirUrl=function(){return o.default.pluginRoot},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=0;return e.replace(/%[a-zA-Z]/g,(function(e){var n=e.slice(1),o=t[s++];switch(n){case"s":return String(o);case"d":return parseInt(o,10).toString();case"f":return parseFloat(o).toString();default:return e}}))}},9842:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,o)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var a=r(n(2735)),i=n(659),c=n(72);t.Message=function(){var e=(0,a.useState)(!1),t=e[0],n=e[1],s=(0,i.useSelector)((function(e){return e.parse.message})),o=(0,a.useRef)(null),r=(0,a.useCallback)((function(){return n(!1)}),[]),u=function(){n(!0),null!==o.current&&o.current.focus()},l=(0,a.useMemo)((function(){return!1===s?"":s.text?(0,c.decodeHTMLEntities)(s.text):""}),[s]);(0,a.useEffect)((function(){!1!==s&&(t?setTimeout((function(){r(),setTimeout(u,400)}),2e3):u())}),[s]);return!1===s?null:a.default.createElement("div",{className:"message-wrapper"},a.default.createElement("div",{className:"alert alert-".concat(s.type," alert-dismissible fade ").concat(t?"show":""),role:"alert","aria-live":"assertive","aria-hidden":!t,"aria-atomic":"true"},a.default.createElement("i",{className:{success:"bi-check-circle-fill",error:"bi-exclamation-octagon-fill",info:"bi-info-circle-fill"}[s.type],"aria-label":"alert ".concat(s.type," sign")}),a.default.createElement("span",{className:"mx-3","aria-label":"Message text"},l),a.default.createElement("button",{tabIndex:0,type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:r,ref:o})))}},4589:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(9842);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.Message}})}}]);