{"ast":null,"code":"import _objectSpread from \"/var/www/html/news-parser/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { combineReducers } from 'redux';\nimport { REQUEST_POSTS_LIST, REQUEST_SINGLE_POST, RECEIVE_POSTS_LIST, RECEIVE_SINGLE_POST, SET_ROUTE } from '../actions/action';\nimport initState from './initState';\n\nfunction parse(state, action) {\n  state = {\n    isFetching: false,\n    url: undefined,\n    items: []\n  };\n\n  switch (action.type) {\n    case REQUEST_POSTS_LIST:\n      return _objectSpread({}, state, {\n        isFetching: true,\n        url: action.url\n      });\n\n    case REQUEST_SINGLE_POST:\n      return _objectSpread({}, state, {\n        isFetching: true,\n        url: action.url\n      });\n\n    case RECEIVE_POSTS_LIST:\n      return _objectSpread({}, state, {\n        isFetching: false,\n        url: action.url,\n        error: action.posts.err,\n        message: action.posts.msg,\n        action: 'list',\n        items: {\n          type: 'list',\n          url: 'http://www.motor1.com/rss/news/all',\n          date: action.date,\n          data: action.posts.data.map(function (item, index) {\n            item._id = parseInt(index);\n            return item;\n          })\n        }\n      });\n\n    case RECEIVE_SINGLE_POST:\n      if (action.post.data._id) {\n        state.items[action.post.data._id].status = action.post.data.status;\n        state.items[action.post.data._id].editLink = action.post.data.link;\n      }\n\n      return _objectSpread({}, state, {\n        isFetching: false,\n        url: action.url,\n        action: 'post',\n        message: action.post.msg,\n        error: action.post.err\n      });\n\n    default:\n      return {\n        isFetching: false,\n        url: false,\n        message: false,\n        error: 0,\n        items: {}\n      };\n  }\n}\n\nfunction route(state, action) {\n  state = {\n    isFetching: false,\n    action: false,\n    url: false\n  };\n\n  if (action.type === SET_ROUTE) {\n    return _objectSpread({}, state, {\n      action: action.action,\n      url: action.url\n    });\n  } else {\n    return _objectSpread({}, state);\n  }\n}\n\nexport default combineReducers({\n  parse: parse,\n  route: route\n});","map":{"version":3,"sources":["/var/www/html/news-parser/src/reducers/reducers.js"],"names":["combineReducers","REQUEST_POSTS_LIST","REQUEST_SINGLE_POST","RECEIVE_POSTS_LIST","RECEIVE_SINGLE_POST","SET_ROUTE","initState","parse","state","action","isFetching","url","undefined","items","type","error","posts","err","message","msg","date","data","map","item","index","_id","parseInt","post","status","editLink","link","route"],"mappings":";AAAA,SAAQA,eAAR,QAA8B,OAA9B;AACA,SACIC,kBADJ,EAEIC,mBAFJ,EAGIC,kBAHJ,EAIIC,mBAJJ,EAKIC,SALJ,QAMO,mBANP;AAOA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,SAASC,KAAT,CAAgBC,KAAhB,EAAsBC,MAAtB,EAA6B;AACzBD,EAAAA,KAAK,GAAC;AACFE,IAAAA,UAAU,EAAC,KADT;AAEFC,IAAAA,GAAG,EAACC,SAFF;AAGFC,IAAAA,KAAK,EAAC;AAHJ,GAAN;;AAKA,UAAOJ,MAAM,CAACK,IAAd;AACI,SAAKb,kBAAL;AACI,+BAAWO,KAAX;AAAiBE,QAAAA,UAAU,EAAC,IAA5B;AAAiCC,QAAAA,GAAG,EAACF,MAAM,CAACE;AAA5C;;AACJ,SAAKT,mBAAL;AACI,+BAAWM,KAAX;AAAiBE,QAAAA,UAAU,EAAC,IAA5B;AAAiCC,QAAAA,GAAG,EAACF,MAAM,CAACE;AAA5C;;AACJ,SAAKR,kBAAL;AACI,+BAAWK,KAAX;AACIE,QAAAA,UAAU,EAAC,KADf;AAEIC,QAAAA,GAAG,EAACF,MAAM,CAACE,GAFf;AAGII,QAAAA,KAAK,EAACN,MAAM,CAACO,KAAP,CAAaC,GAHvB;AAIIC,QAAAA,OAAO,EAACT,MAAM,CAACO,KAAP,CAAaG,GAJzB;AAKIV,QAAAA,MAAM,EAAC,MALX;AAMII,QAAAA,KAAK,EAAC;AACFC,UAAAA,IAAI,EAAC,MADH;AAEFH,UAAAA,GAAG,EAAC,oCAFF;AAGFS,UAAAA,IAAI,EAACX,MAAM,CAACW,IAHV;AAKFC,UAAAA,IAAI,EAACZ,MAAM,CAACO,KAAP,CAAaK,IAAb,CAAkBC,GAAlB,CAAsB,UAACC,IAAD,EAAMC,KAAN,EAAc;AACrCD,YAAAA,IAAI,CAACE,GAAL,GAASC,QAAQ,CAACF,KAAD,CAAjB;AACA,mBAAOD,IAAP;AACH,WAHI;AALH;AANV;;AAiBJ,SAAKnB,mBAAL;AACI,UAAGK,MAAM,CAACkB,IAAP,CAAYN,IAAZ,CAAiBI,GAApB,EAAwB;AACpBjB,QAAAA,KAAK,CAACK,KAAN,CAAYJ,MAAM,CAACkB,IAAP,CAAYN,IAAZ,CAAiBI,GAA7B,EAAkCG,MAAlC,GAAyCnB,MAAM,CAACkB,IAAP,CAAYN,IAAZ,CAAiBO,MAA1D;AACApB,QAAAA,KAAK,CAACK,KAAN,CAAYJ,MAAM,CAACkB,IAAP,CAAYN,IAAZ,CAAiBI,GAA7B,EAAkCI,QAAlC,GAA2CpB,MAAM,CAACkB,IAAP,CAAYN,IAAZ,CAAiBS,IAA5D;AACH;;AACD,+BAAWtB,KAAX;AACIE,QAAAA,UAAU,EAAC,KADf;AAEIC,QAAAA,GAAG,EAACF,MAAM,CAACE,GAFf;AAGIF,QAAAA,MAAM,EAAC,MAHX;AAIIS,QAAAA,OAAO,EAACT,MAAM,CAACkB,IAAP,CAAYR,GAJxB;AAKIJ,QAAAA,KAAK,EAACN,MAAM,CAACkB,IAAP,CAAYV;AALtB;;AAOJ;AACI,aAAO;AACPP,QAAAA,UAAU,EAAC,KADJ;AAEPC,QAAAA,GAAG,EAAC,KAFG;AAGPO,QAAAA,OAAO,EAAC,KAHD;AAIPH,QAAAA,KAAK,EAAC,CAJC;AAKPF,QAAAA,KAAK,EAAC;AALC,OAAP;AApCR;AA4CH;;AACD,SAASkB,KAAT,CAAevB,KAAf,EAAqBC,MAArB,EAA4B;AACxBD,EAAAA,KAAK,GAAC;AACFE,IAAAA,UAAU,EAAC,KADT;AAEFD,IAAAA,MAAM,EAAC,KAFL;AAGFE,IAAAA,GAAG,EAAC;AAHF,GAAN;;AAKA,MAAGF,MAAM,CAACK,IAAP,KAAcT,SAAjB,EAA2B;AACvB,6BAAWG,KAAX;AAAiBC,MAAAA,MAAM,EAACA,MAAM,CAACA,MAA/B;AAAsCE,MAAAA,GAAG,EAACF,MAAM,CAACE;AAAjD;AACH,GAFD,MAEK;AACD,6BAAWH,KAAX;AACH;AACJ;;AAED,eAAeR,eAAe,CAAC;AAACO,EAAAA,KAAK,EAALA,KAAD;AAAOwB,EAAAA,KAAK,EAALA;AAAP,CAAD,CAA9B","sourcesContent":["import {combineReducers} from 'redux';\nimport {\n    REQUEST_POSTS_LIST,\n    REQUEST_SINGLE_POST,\n    RECEIVE_POSTS_LIST,\n    RECEIVE_SINGLE_POST,\n    SET_ROUTE\n} from '../actions/action';\nimport initState from './initState';\n\nfunction parse (state,action){\n    state={\n        isFetching:false,\n        url:undefined,\n        items:[]\n    }\n    switch(action.type){\n        case REQUEST_POSTS_LIST:\n            return {...state,isFetching:true,url:action.url};\n        case REQUEST_SINGLE_POST:\n            return {...state,isFetching:true,url:action.url};\n        case RECEIVE_POSTS_LIST:\n            return {...state,\n                isFetching:false,\n                url:action.url,\n                error:action.posts.err,\n                message:action.posts.msg,\n                action:'list',\n                items:{\n                    type:'list',\n                    url:'http://www.motor1.com/rss/news/all',\n                    date:action.date,   \n                   \n                    data:action.posts.data.map((item,index)=>{\n                        item._id=parseInt(index);\n                        return item;\n                    }),\n                }\n            };\n        case RECEIVE_SINGLE_POST:\n            if(action.post.data._id){\n                state.items[action.post.data._id].status=action.post.data.status;\n                state.items[action.post.data._id].editLink=action.post.data.link;\n            }\n            return {...state,\n                isFetching:false,\n                url:action.url,\n                action:'post',\n                message:action.post.msg,\n                error:action.post.err\n            };\n        default: \n            return {\n            isFetching:false,\n            url:false,\n            message:false,\n            error:0,\n            items:{}\n        }\n    }\n}\nfunction route(state,action){\n    state={\n        isFetching:false,\n        action:false,\n        url:false,\n    }\n    if(action.type===SET_ROUTE){\n        return {...state,action:action.action,url:action.url}\n    }else{\n        return {...state}\n    }\n}\n\nexport default combineReducers({parse,route});"]},"metadata":{},"sourceType":"module"}