{"ast":null,"code":"import initialState from '../reducers/initState';\nimport mockPostData from '../reducers/mockPostError';\nexport var REQUEST_POSTS_LIST = 'REQUEST_POSTS_LIST';\nexport var REQUEST_SINGLE_POST = 'REQUEST_SINGLE_POST';\nexport var RECEIVE_POSTS_LIST = 'RECEIVE_POSTS_LIST';\nexport var RECEIVE_SINGLE_POST = 'RECEIVE_SINGLE_POST';\nexport var RECEIVE_ERROR = 'RECEIVE_ERROR';\nexport var SET_ROUTE = 'SET_ROUTE';\nexport function requestPostsList(url) {\n  return {\n    type: REQUEST_POSTS_LIST,\n    url: url\n  };\n}\nexport function setRoute(params) {\n  return {\n    type: SET_ROUTE,\n    action: params.action || false,\n    url: params.url ? decodeURIComponent(params.url) : false\n  };\n}\nexport function requestPost(url) {\n  return {\n    type: REQUEST_SINGLE_POST,\n    url: url\n  };\n}\nexport function receivePostsList(url, posts) {\n  return {\n    type: RECEIVE_POSTS_LIST,\n    url: url,\n    posts: posts,\n    date: Date.now()\n  };\n}\nexport function receivePost(url, post) {\n  return {\n    type: RECEIVE_SINGLE_POST,\n    url: url,\n    post: post,\n    date: Date.now()\n  };\n}\nexport function receiveError(url, id, data) {\n  return {\n    type: RECEIVE_ERROR,\n    url: url,\n    id: id,\n    post: data\n  };\n}\nexport function fetchPostsList(dispatch, url) {\n  dispatch(requestPostsList(url));\n  return function (dispatch) {\n    return new Promise(function (resolve) {\n      resolve(initialState);\n    }).then(function (json, error) {\n      if (!error) {\n        dispatch(receivePostsList(url, json));\n      } else {\n        console.error(error);\n      }\n    });\n  };\n}\nexport function parsePost(dispatch, url, id) {\n  dispatch(requestPost(url));\n  return function (dispatch) {\n    new Promise(function (resolve) {\n      resolve(mockPostData);\n    }).then(function (result, error) {\n      if (result.err) {\n        dispatch(receiveError(url, id, result));\n        return;\n      }\n\n      result.data._id = id;\n      dispatch(receivePost(url, result));\n    });\n  };\n}","map":{"version":3,"sources":["/var/www/html/news-parser/src/actions/action_dev.js"],"names":["initialState","mockPostData","REQUEST_POSTS_LIST","REQUEST_SINGLE_POST","RECEIVE_POSTS_LIST","RECEIVE_SINGLE_POST","RECEIVE_ERROR","SET_ROUTE","requestPostsList","url","type","setRoute","params","action","decodeURIComponent","requestPost","receivePostsList","posts","date","Date","now","receivePost","post","receiveError","id","data","fetchPostsList","dispatch","Promise","resolve","then","json","error","console","parsePost","result","err","_id"],"mappings":"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","sourcesContent":["import initialState from '../reducers/initState';\nimport mockPostData from '../reducers/mockPostError';\n\nexport const REQUEST_POSTS_LIST='REQUEST_POSTS_LIST';\nexport const REQUEST_SINGLE_POST='REQUEST_SINGLE_POST';\nexport const RECEIVE_POSTS_LIST='RECEIVE_POSTS_LIST';\nexport const RECEIVE_SINGLE_POST='RECEIVE_SINGLE_POST';\nexport const RECEIVE_ERROR='RECEIVE_ERROR';\nexport const SET_ROUTE='SET_ROUTE';\n\n\n\nexport function requestPostsList (url){\n    return {\n        type:REQUEST_POSTS_LIST,\n        url:url\n    }\n}\nexport function setRoute(params){\n    return {\n        type:SET_ROUTE,\n        action:params.action||false,\n        url:params.url?decodeURIComponent(params.url):false\n    }\n}\nexport function requestPost (url) {\n    return {\n        type:REQUEST_SINGLE_POST,\n        url:url\n    }\n}\nexport function receivePostsList (url,posts) {\n    return {\n        type:RECEIVE_POSTS_LIST,\n        url:url,\n        posts:posts,\n        date:Date.now()\n    }\n}\nexport function receivePost(url,post){\n    return {\n        type:RECEIVE_SINGLE_POST,\n        url:url,\n        post,\n        date:Date.now()\n    }\n}\n\nexport function receiveError(url,id,data){\n    return{\n        type:RECEIVE_ERROR,\n        url:url,\n        id:id,\n        post:data\n    }\n}\n\nexport function fetchPostsList(dispatch,url){\n    dispatch(requestPostsList(url))\n    return dispatch=>{\n        return new Promise(resolve=>{\n            resolve(initialState)\n        })\n        .then((json,error)=>{\n            if(!error){\n            dispatch(receivePostsList (url,json))\n            }else{\n                console.error(error);\n            }\n        })\n    }\n}\nexport function parsePost(dispatch,url,id){\n    dispatch(requestPost(url));\n    return dispatch=>{new Promise(resolve=>{\n            resolve(mockPostData);\n        })\n        .then((result,error)=>{\n            if(result.err) \n            {\n                dispatch(receiveError(url,id,result));\n                return;\n            }\n            result.data._id=id;\n            dispatch(receivePost(url,result));\n        })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}